# events_shooters_global

## 1.Запуск тестів

1. Завантажити репозиторій
2. Завантажити залежності. В кореневій директорії проекту виконати команду

```bash
pip install -r requirements.txt
```

3. Завантажити playwright-браузер, виконавши команду

```bash
playwright install chromium
```

4. Запустити тест з кореневої директорії командою 

```bash
pytest tests
```
5. Після успішного завершення тесту за шляхом test_results/screenshots буде згенерований скріншот білдера. Приклад: https://ibb.co/M5nGp2Pg

## Складнощі

- Подекуди слабкі ідентифікатори елементів у верстці. Довелось використати слабкі текстові селектори (для пошуку кнопки "Build for free", пункту меню "Log Out"). Що є ненадійним рішенням в цілому, а тим паче при роботі з мультимовним сайтом, як поточний.
- Кнопка "Build for free" сприймалась плейрайтом як клікабельна, хоча фактично клік міг не відпрацювати. Тому був створений поллер, який перевіряв появу елемента сторінки логіна після кліка
- Екран завантаження білдера зазвичай спливав достатньо швидко, тому треба було ставити на паузу виконання скриптів в браузері на вкладці Source, щоб локалізувати його (знайти селектори).
- Неможливість взаємодіяти з елементами білдера, окрім як по координатам пікселів. Так як вони грузяться в канвасі в ріалтаймі і не відмальовуються в DOM. Відповідно закриття onboarding-алерта я виконав через клік по координатам. Що є робочим рішенням для фіксованих розмірів екрана. Але при його зміні потребуватиме нових координат для кліка.

## Коментарі
- У ТЗ не вимагались перевірки, тому тест написаний без ассертів
- Важливо не змінювати параметри SCREEN_WIDTH та SCREEN_HEIGHT в constants.py, так як від них залежить натискання по координатам на канвасі. На реальному проекті для стабілізації потенційно б дописувався пропорційний адаптер
- Файл .env з кредами на реальному проекті не буде завантажуватись в репозиторій
- При локальних прогонах білдер у мене зазвичай завантажувався в межах 1-2 хвилин. Якщо не буде встигати за 5 (як встановлено таймаутом зараз) - можна збільшити очікування в константі BUILDER_LOADING_TIMEOUT_MS в constants.py